@model LoginSystem.ViewModels.RegistroViewModel

@{
    ViewData["Title"] = "Registro";
}

<div class="d-flex justify-content-center align-items-center w-100 h-100" style="min-height: 100%">
    <div class="card shadow border-0 w-100" style="max-width: 400px;">
        <div class="card-body p-4">
            <div class="text-center mb-4">
                <img src="/img/logo.png" alt="logo" class="logo-navbar mb-2" />
            </div>
            <h4 class="text-center mb-4 fw-bold">Registro</h4>
            <form asp-action="Registro" method="post" autocomplete="off">
                <div class="mb-3">
                    <input asp-for="Nome" class="form-control form-control-lg" placeholder="Nome" />
                    <span asp-validation-for="Nome" class="text-danger small"></span>
                </div>
                <div class="mb-3">
                    <input asp-for="Email" class="form-control form-control-lg" placeholder="Email" />
                    <span asp-validation-for="Email" class="text-danger small"></span>
                </div>
                <div class="mb-3">
                    <input asp-for="Senha" class="form-control form-control-lg" placeholder="Senha" type="password" />
                    <span asp-validation-for="Senha" class="text-danger small"></span>
                </div>
                <div class="mb-4">
                    <input asp-for="ConfirmarSenha" class="form-control form-control-lg" placeholder="Confirme a senha" type="password" />
                    <span asp-validation-for="ConfirmarSenha" class="text-danger small"></span>
                </div>
                <button id="btnRegistrar" type="submit" class="btn btn-primary btn-lg w-100 mb-3">
                    <span id="spinnerRegistrar" class="spinner-border spinner-border-sm me-2 d-none" role="status" aria-hidden="true"></span>
                    <span id="btnRegistrarText">Registrar</span>
                </button>
                @* <button type="submit" class="btn btn-primary btn-lg w-100 mb-3">Registrar</button> *@
            </form>
            <div class="text-center">
                <span>Já possui conta? </span>
                <a asp-action="Index" asp-controller="Login" class="fw-bold text-primary text-decoration-none">Login</a>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var form = document.querySelector('form');
            if (form) {
                form.addEventListener('submit', function () {
                    var btn = document.getElementById('btnRegistrar');
                    var spinner = document.getElementById('spinnerRegistrar');
                    var btnText = document.getElementById('btnRegistrarText');
                    if (btn && spinner && btnText) {
                        btn.disabled = true;
                        spinner.classList.remove('d-none');
                        btnText.textContent = 'Registrando...';
                    }
                });
            }
        });
    </script>
}